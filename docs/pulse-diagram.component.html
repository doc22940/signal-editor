<div>
    <svg style="width: 100%;">
        <style>
            svg {
                shape-rendering: crispEdges;
                font-family: monospace;

            }

            .lineName {
                font-size: 15px;
                alignment-baseline: central;
            }

            .linePath {
                fill: none;
                stroke-width: 2;
                stroke-linejoin: round;
            }

        </style>

        <defs>
            <pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse">
                <path d="M 10 0 L 0 0 0 10" fill="none" stroke="#DADADA" stroke-width="1"/>
            </pattern>
        </defs>

        <rect width="100%" height="100%" fill="url(#grid)"/>

        <g ng-repeat="line in lines" ng-attr-transform="translate({{line.left}}, {{line.top}})">
            <text class="lineName" x="0" ng-attr-y="{{line.textTop}}" ng-attr-fill="{{line.color}}">{{line.name}}</text>
            <path class="linePath" ng-attr-d="{{line.path}}" stroke="red" ng-attr-stroke="{{line.color}}"/>
        </g>
    </svg>

    <table>
        <tr>
            <th>Line name</th>
            <th>Color</th>
            <th>Pulse sequence</th>
            <th>X</th>
            <th>Y</th>
            <th>Height</th>
            <th></th>
        </tr>
        <tr ng-repeat="line in lines">
            <td><input type="text" ng-model="line.name"></td>
            <td><input type="color" ng-model="line.color"></td>
            <td><input type="text" ng-model="line.input" ng-change="lineChanged(line)"></td>
            <td><input type="number" ng-model="line.xOffset" ng-change="lineChanged(line)"></td>
            <td><input type="number" ng-model="line.yOffset" ng-change="lineChanged(line)"></td>
            <td><input type="number" ng-model="line.height" ng-change="lineChanged(line)"></td>
            <td>
                <button class="remove-button" ng-click="removeLine($index)" title="Remove line">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </button>
            </td>
        </tr>
    </table>

    <button class="add-button" ng-click="addLine()" title="Create new line">
        <i class="fa fa-plus" aria-hidden="true"></i>
    </button>
</div>